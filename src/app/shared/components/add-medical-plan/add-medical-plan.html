<form [formGroup]="form" class="grid gap-4">
  <div class="grid gap-3">
    <label
      for="code"
      class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"
    >
      Code
    </label>
    <input
      z-input
      formControlName="planCode"
      [zStatus]="isInvalid('planCode') ? 'error' : undefined"
    />
  </div>

  <div class="grid gap-3">
    <label
      for="coverageSummary"
      class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"
    >
      Coverage Summary
    </label>
    <div class="grid grid-cols-2 gap-2 border rounded-md p-3">
      @for (option of coverageSummaryOptions; track option) {
      <label
        class="flex items-center gap-2"
        [class.cursor-pointer]="!isCoverageDisabled(option)"
        [class.cursor-not-allowed]="isCoverageDisabled(option)"
        [class.opacity-50]="isCoverageDisabled(option)"
      >
        <input
          type="checkbox"
          [value]="option"
          [checked]="isCoverageSelected(option)"
          [disabled]="isCoverageDisabled(option)"
          (change)="onCoverageChange(option, $event)"
          class="w-4 h-4"
        />
        <span class="text-sm">{{ option }}</span>
      </label>
      }
    </div>
    @if (isInvalid('coverageSummary')) {
    <span class="text-xs text-red-500 mt-1">Please select at least one coverage option.</span>
    }
  </div>

  <div class="grid gap-3">
    <label
      for="name"
      class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"
    >
      Name
    </label>
    <input
      z-input
      formControlName="planName"
      [zStatus]="isInvalid('planName') ? 'error' : undefined"
    />
  </div>

  <div class="grid gap-3">
    <label
      for="active"
      class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"
    >
      Active
    </label>
    <z-checkbox formControlName="active"></z-checkbox>
  </div>
</form>
